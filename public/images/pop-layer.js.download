(window["webpackJsonp-ae-fe/cosmos-1"]=window["webpackJsonp-ae-fe/cosmos-1"]||[]).push([[14],{100:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},508:function(e,t){},509:function(e){e.exports=JSON.parse('{"_args":[["@alife/heaven-smart-banner-core@0.1.13","/cloud/source_code"]],"_from":"@alife/heaven-smart-banner-core@0.1.13","_id":"@alife/heaven-smart-banner-core@0.1.13","_inBundle":false,"_integrity":"sha1-pO3MBg8Jkz3I46JAc3+/Wo4vaXo=","_location":"/@alife/heaven-smart-banner-core","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"@alife/heaven-smart-banner-core@0.1.13","name":"@alife/heaven-smart-banner-core","escapedName":"@alife%2fheaven-smart-banner-core","scope":"@alife","rawSpec":"0.1.13","saveSpec":null,"fetchSpec":"0.1.13"},"_requiredBy":["/@ali/poplayer-web-container"],"_resolved":"https://registry.npm.alibaba-inc.com/@alife/heaven-smart-banner-core/download/@alife/heaven-smart-banner-core-0.1.13.tgz","_spec":"0.1.13","_where":"/cloud/source_code","author":{"name":"老邬"},"componentConfig":{"name":"@alife/heaven-smart-banner-core","title":"","desc":""},"dependencies":{"@alife/zoro-cookie":"^2.0.10","prop-types":"^15.5.8"},"description":"","devDependencies":{"@alib/build-scripts":"^0.1.20","@types/classnames":"^2.2.10","@types/enzyme":"^3.10.5","@types/enzyme-adapter-react-16":"^1.0.6","@types/jest":"^25.1.4","@types/react":"^16.9.33","@types/react-dom":"^16.9.6","@typescript-eslint/eslint-plugin":"^2.26.0","@typescript-eslint/parser":"^2.26.0","build-plugin-component":"^0.2.15","build-plugin-fusion":"^0.1.2","build-plugin-moment-locales":"^0.1.0","enzyme":"^3.11.0","enzyme-adapter-react-16":"^1.15.2","eslint":"^6.8.0","eslint-plugin-react":"^7.19.0","identity-obj-proxy":"^3.0.0","jest":"^25.2.4","react":"^16.13.1","react-dom":"^16.13.1","ts-jest":"^25.3.0","typescript":"^3.8.3"},"heavenConfig":{"authors":"老邬","createdDate":"1588735826157","updatedDate":"1588735826157","version":"0.0.1","category":"基础组件","biz":"基础链路","framework":"React","platform":"PC","tags":"a,b,c"},"homepage":"https://unpkg.alibaba-inc.com/@alife/heaven-smart-banner-core@0.1.13/build/index.html","keywords":[],"license":"MIT","main":"lib/index.js","module":"es/index.js","name":"@alife/heaven-smart-banner-core","publishConfig":{"registry":"https://registry.npm.alibaba-inc.com"},"scripts":{"build":"build-scripts build","start":"build-scripts start","test":"build-scripts test"},"types":"es/index.d.ts","version":"0.1.13"}')},510:function(e,t){},511:function(e,t,n){"use strict";var o={},r=decodeURIComponent,i=encodeURIComponent;function a(e){return"string"==typeof e}function s(e){return a(e)&&""!==e}function c(e){if(!s(e))throw new TypeError("Cookie name must be a non-empty string")}function p(e){return e}o.get=function(e,t){c(e),t="function"==typeof t?{converter:t}:t||{};var n=function(e,t){var n={};if(a(e)&&e.length>0)for(var o,i,s,c=t?r:p,l=e.split(/;\s/g),d=0,u=l.length;d<u;d++){if((s=l[d].match(/([^=]+)=/i))instanceof Array)try{o=r(s[1]),i=c(l[d].substring(s[1].length+1))}catch(e){}else o=r(l[d]),i="";o&&(n[o]=i)}return n}(document.cookie,!t.raw);return(t.converter||p)(n[e])},o.set=function(e,t,n){c(e);var o=(n=n||{}).expires,r=n.domain,a=n.path;n.raw||(t=i(String(t)));var p=e+"="+t,l=o;return"number"==typeof l&&(l=new Date).setDate(l.getDate()+o),l instanceof Date&&(p+="; expires="+l.toUTCString()),s(r)&&(p+="; domain="+r),s(a)&&(p+="; path="+a),n.secure&&(p+="; secure"),document.cookie=p,p},o.remove=function(e,t){return(t=t||{}).expires=new Date(0),this.set(e,"",t)};var l=o;t.default=l},512:function(e,t,n){"use strict";t.getFixedDomainUrl=function(){return o};var o="aliexpress.com";[{reg:/aliexpress.ru/,domain:"aliexpress.ru"},{reg:/tmall.ru/,domain:"tmall.ru"}].forEach((function(e){e.reg.test(window.location.host)&&(o=e.domain)}))},513:function(e,t){},514:function(e,t,n){(function(e){var t=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function r(e,t){if(!o[e]){o[e]={};for(var n=0;n<e.length;n++)o[e][e.charAt(n)]=n}return o[e][t]}var i={compressToBase64:function(e){if(null==e)return"";var n=i._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:i._decompress(e.length,32,(function(n){return r(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":i._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:i._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=i.compress(e),n=new Uint8Array(2*t.length),o=0,r=t.length;o<r;o++){var a=t.charCodeAt(o);n[2*o]=a>>>8,n[2*o+1]=a%256}return n},decompressFromUint8Array:function(t){if(null==t)return i.decompress(t);for(var n=new Array(t.length/2),o=0,r=n.length;o<r;o++)n[o]=256*t[2*o]+t[2*o+1];var a=[];return n.forEach((function(t){a.push(e(t))})),i.decompress(a.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":i._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),i._decompress(e.length,32,(function(t){return r(n,e.charAt(t))})))},compress:function(t){return i._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var o,r,i,a={},s={},c="",p="",l="",d=2,u=3,f=2,m=[],h=0,g=0;for(i=0;i<e.length;i+=1)if(c=e.charAt(i),Object.prototype.hasOwnProperty.call(a,c)||(a[c]=u++,s[c]=!0),p=l+c,Object.prototype.hasOwnProperty.call(a,p))l=p;else{if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(o=0;o<f;o++)h<<=1,g==t-1?(g=0,m.push(n(h)),h=0):g++;for(r=l.charCodeAt(0),o=0;o<8;o++)h=h<<1|1&r,g==t-1?(g=0,m.push(n(h)),h=0):g++,r>>=1}else{for(r=1,o=0;o<f;o++)h=h<<1|r,g==t-1?(g=0,m.push(n(h)),h=0):g++,r=0;for(r=l.charCodeAt(0),o=0;o<16;o++)h=h<<1|1&r,g==t-1?(g=0,m.push(n(h)),h=0):g++,r>>=1}0==--d&&(d=Math.pow(2,f),f++),delete s[l]}else for(r=a[l],o=0;o<f;o++)h=h<<1|1&r,g==t-1?(g=0,m.push(n(h)),h=0):g++,r>>=1;0==--d&&(d=Math.pow(2,f),f++),a[p]=u++,l=String(c)}if(""!==l){if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(o=0;o<f;o++)h<<=1,g==t-1?(g=0,m.push(n(h)),h=0):g++;for(r=l.charCodeAt(0),o=0;o<8;o++)h=h<<1|1&r,g==t-1?(g=0,m.push(n(h)),h=0):g++,r>>=1}else{for(r=1,o=0;o<f;o++)h=h<<1|r,g==t-1?(g=0,m.push(n(h)),h=0):g++,r=0;for(r=l.charCodeAt(0),o=0;o<16;o++)h=h<<1|1&r,g==t-1?(g=0,m.push(n(h)),h=0):g++,r>>=1}0==--d&&(d=Math.pow(2,f),f++),delete s[l]}else for(r=a[l],o=0;o<f;o++)h=h<<1|1&r,g==t-1?(g=0,m.push(n(h)),h=0):g++,r>>=1;0==--d&&(d=Math.pow(2,f),f++)}for(r=2,o=0;o<f;o++)h=h<<1|1&r,g==t-1?(g=0,m.push(n(h)),h=0):g++,r>>=1;for(;;){if(h<<=1,g==t-1){m.push(n(h));break}g++}return m.join("")},decompress:function(e){return null==e?"":""==e?null:i._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,o){var r,i,a,s,c,p,l,d=[],u=4,f=4,m=3,h="",g=[],v={val:o(0),position:n,index:1};for(r=0;r<3;r+=1)d[r]=r;for(a=0,c=Math.pow(2,2),p=1;p!=c;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=o(v.index++)),a|=(s>0?1:0)*p,p<<=1;switch(a){case 0:for(a=0,c=Math.pow(2,8),p=1;p!=c;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=o(v.index++)),a|=(s>0?1:0)*p,p<<=1;l=e(a);break;case 1:for(a=0,c=Math.pow(2,16),p=1;p!=c;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=o(v.index++)),a|=(s>0?1:0)*p,p<<=1;l=e(a);break;case 2:return""}for(d[3]=l,i=l,g.push(l);;){if(v.index>t)return"";for(a=0,c=Math.pow(2,m),p=1;p!=c;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=o(v.index++)),a|=(s>0?1:0)*p,p<<=1;switch(l=a){case 0:for(a=0,c=Math.pow(2,8),p=1;p!=c;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=o(v.index++)),a|=(s>0?1:0)*p,p<<=1;d[f++]=e(a),l=f-1,u--;break;case 1:for(a=0,c=Math.pow(2,16),p=1;p!=c;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=o(v.index++)),a|=(s>0?1:0)*p,p<<=1;d[f++]=e(a),l=f-1,u--;break;case 2:return g.join("")}if(0==u&&(u=Math.pow(2,m),m++),d[l])h=d[l];else{if(l!==f)return null;h=i+i.charAt(0)}g.push(h),d[f++]=i+h.charAt(0),i=h,0==--u&&(u=Math.pow(2,m),m++)}}};return i}();"function"==typeof define&&define.amd?define((function(){return t})):null!=e&&(e.exports=t)}).call(this,n(100)(e))},515:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function o(e){return"number"!=typeof e||e>3e4||e<0?0:Math.round(e)}function r(e){return o(window.performance&&window.performance.timing?e-window.performance.timing.fetchStart:0)}var i={error:function(e,t){window.__bl&&window.__bl.error?window.__bl.error(e,t):window.__bl&&(window.__bl.pipe=window.__bl.pipe||[],window.__bl.pipe.push(["error",e,t]))},api:{success:function(e,t,n,o){window.__bl&&window.__bl.api?window.__bl.api(e,!0,t,n,o):window.__bl&&(window.__bl.pipe=window.__bl.pipe||[],window.__bl.pipe.push(["api",e,!0,t,n,o]))},error:function(e,t,n,o){window.__bl&&window.__bl.api?window.__bl.api(e,!1,t,n,o):window.__bl&&(window.__bl.pipe=window.__bl.pipe||[],window.__bl.pipe.push(["api",e,!1,t,n,o]))}},report:function(e){try{if(!e)return;if(!("Promise"in window))return;if(!window.performance)return;Object.keys(e).forEach((function(t){var n=e[t];if("number"!=typeof n){if(!n||!n.then)throw new Error("performance package: first argument of function reportPerformance need to be a promise or thenable!");e[t]=n.then((function(e){return r(e)}))}else e[t]=o(n)}));var t={ctti:new Promise((function(e){i.interactiveTimerId=setTimeout((function(){e(r(Date.now()))}),0)})).catch((function(e){throw new Error(e)})),t1:(c=0,new Promise((function(e){if("function"==typeof window.performance.getEntriesByType){var t=performance.getEntriesByType("paint");if(t)for(var n=0,r=t.length;n<r;n++){var i=t[n];"first-paint"===i.name&&(c=i.startTime)}}else if(window.chrome&&window.chrome.loadTimes){var a=window.chrome.loadTimes();c=1e3*(a.firstPaintTime-a.startLoadTime)}else"number"==typeof window.performance.timing.msFirstPaint&&(c=window.performance.timing.msFirstPaint-window.performance.timing.navigationStart);e(o(c))})).catch((function(e){throw new Error(e)})))},n=Object.assign(t,e),a=[],s=[];Object.keys(n).forEach((function(e){a.push(e),s.push(n[e])})),Promise.all(s).then((function(e){var t={};e.forEach((function(e,n){t[a[n]]=e}));var n=["performance",t];window.__bl&&window.__bl.performance?window.__bl.performance(t):window.__bl&&(window.__bl.pipe=window.__bl.pipe||[],window.__bl.pipe.push(n))})).catch((function(e){throw console.error(e),new Error(e)}))}catch(e){throw new Error(e)}var c},gc:function(){clearTimeout(this.interactiveTimerId)}},a=i;t.default=a},538:function(e,t,n){"use strict";n.r(t);var o={};n.r(o),n.d(o,"getAffCookieData",(function(){return g})),n.d(o,"parseUrl",(function(){return v})),n.d(o,"getParameterByName",(function(){return y})),n.d(o,"isRuDomain",(function(){return w})),n.d(o,"isFunction",(function(){return _})),n.d(o,"serializeParams",(function(){return b})),n.d(o,"addUrlParams",(function(){return x})),n.d(o,"createRedirectUrl",(function(){return E})),n.d(o,"createCallAppUrl",(function(){return C})),n.d(o,"createAppStoreUrl",(function(){return S})),n.d(o,"jsonParse",(function(){return I})),n.d(o,"getPageCode",(function(){return T})),n.d(o,"getPageSpm",(function(){return k})),n.d(o,"isDebug",(function(){return A})),n.d(o,"isSmbLog",(function(){return R})),n.d(o,"getDay",(function(){return O})),n.d(o,"getProductId",(function(){return P})),n.d(o,"getDomain",(function(){return U})),n.d(o,"getDefaultTargetUrl",(function(){return D})),n.d(o,"isAndroid",(function(){return N})),n.d(o,"removeSmbUrlKey",(function(){return j})),n.d(o,"SCHEME_MAP",(function(){return M})),n.d(o,"fixCallUrlParams",(function(){return L}));var r={};n.r(r),n.d(r,"sendPoint",(function(){return F}));var i=n(0),a=n.n(i),s=n(13),c=n.n(s),p=n(6),l=n.n(p),d=n(1),u=n.n(d),f=n(509),m=n(30),h=n.n(m);function g(){return{aeuCid:h.a.getAeucid(),browserId:h.a.getACS_RT(),lang:h.a.getLocale()||"",shipToCountry:h.a.getRegion()||"",currency:h.a.getCurrency()||"",accountId:h.a.getMemberSeq()||""}}function v(e){var t={},n=e.match(/\?[^#]*/);return n&&1!==n[0].length?(n[0].slice(1).split("&").forEach((function(e){n=e.split("="),t[n[0]]=decodeURIComponent(n[1]||"")})),t):t}function y(e,t){t||(t=window.location.href),e=e.replace(/[[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function w(){return/aliexpress\.ru/.test(window.location.host)}function _(e){return"function"===(typeof e).toLowerCase()}function b(e){return void 0===e&&(e={}),Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}function x(e,t){return void 0===e&&(e=""),void 0===t&&(t={}),e.indexOf("?")>-1?e+"&"+b(t):e+"?"+b(t)}function E(e,t){return void 0===e&&(e=""),void 0===t&&(t={}),e?x(e,{fromPageCode:t.pageCode,m_page_id:t.pageId||"",spm:t.spm||"",isAutoCall:t.isAutoCall||"","spm-url":t["spm-url"]||"",isFromSmb:!0,abId:t.abId||"",bktId:t.bktId||"",activityId:t.activityId||""}):""}function C(e,t){if(void 0===e&&(e=""),void 0===t&&(t={}),!e)return"";var n=t.cookieInfo,o=void 0===n?{}:n,r=g(),i={};r.aeuCid&&(i.aff_trace_key=t.aeuCid||r.aeuCid||"",i.aff_platform=t.aff_platform||"msite",i.browser_id=t.browserId||r.browserId||"");var a=t.accountId||r.accountId||"";return a&&(i.accountId=a),x(e,l()({fromPageCode:t.pageCode,m_page_id:t.pageId||"",spm:t.spm||"",isAutoCall:t.isAutoCall||"","spm-url":t["spm-url"]||"",abId:t.abId||"",bktId:t.bktId||"",activityId:t.activityId||""},i,o))}function S(e,t){if(void 0===e&&(e=""),void 0===t&&(t={}),!e)return"";var n=t.cookieInfo,o=void 0===n?{}:n;return x(e,l()({m_page_id:t.pageId,fromPageCode:t.pageCode||"",spm:t.spm||"",isAutoCall:t.isAutoCall||"","spm-url":t["spm-url"]||"",abId:t.abId||"",bktId:t.bktId||"",activityId:t.activityId||"",dd_url:t.dd_url||""},o))}function I(e){void 0===e&&(e="");var t="";try{t=JSON.parse(e)||{}}catch(e){t=""}return t}function T(){return(""+document.querySelector("body").getAttribute("data-spm")||"").trim()}var k=function(){var e="",t="";try{var n=document.querySelector('meta[name="data-spm"]');e=n?n.getAttribute("content"):"a2g0n",t=document.querySelector("body").getAttribute("data-spm")||"unknow"}catch(n){e="",t=""}var o=[e,t].join(".");return function(){return o}}(),A=/true/.test(y("isSmbDebug")),R=/true/.test(y("isSmbLog"));function O(e){void 0===e&&(e=0);var t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setDate(t.getDate()+e),+t}function P(e){void 0===e&&(e="");return((e.split("?")[0]||"").match(/aliexpress\.(com|ru)\/(item|i)\/(.*)\.htm(l?)/)||[])[3]||""}function U(){return w()?"m.aliexpress.ru":"m.aliexpress.com"}function D(){return"//"+U()+"/download-landing.html"}function N(){var e=window.navigator.userAgent;return e.indexOf("Android")>-1||e.indexOf("Linux")>-1}function j(e){void 0===e&&(e={});var t={};for(var n in e)"cancleSmbFatigueCrtl,isSmbDebug,isSMBLog,isSmbAutoCall,needSmbRedirect,smbTargetUrl,smbCallAppScheme,isSmbShow,needSmbHouyi,smbThemes,isSmbActive,needSmbAutoCallRedirect".indexOf(n)>-1||(t[n]=e[n]);return t}var M={HOME:"aliexpress://home",DETAIL:"aliexpress://product/detail",STORE:"aliexpress://store/home",LOGIN:"aliexpress://member/signin",ACCOUNT:"aliexpress://account",SHOPCART:"aliexpress://cart",PROFILE:"aliexpress://profile",WISHLIST:"aliexpress://wishlist",WISHSTORELIST:"aliexpress://wishstorelist",SEARCHLIST:"aliexpress://search/list",CATEGORYLIST:"aliexpress://native/goto/category",GOTO:"aliexpress://goto"};function L(e){void 0===e&&(e="");var t=e.trim(),n=v(e),o=window.location.href,r=j(v((o=o.replace(/https:\/\/(.*?).aliexpress.com\/campaign/,"https://campaign.aliexpress.com").replace(/https:\/\/(.*?).aliexpress.com\/pre-campaign/,"https://pre-wormhole.aliexpress.com"))||"")||{});if(function(e){return/https:\/\/(campaign|pre-wormhole).aliexpress.com\//.test(e)}(o)&&r.wh_weex){var i={};!r.wx_navbar_hidden&&(i.wx_navbar_hidden=!0),!r.wx_navbar_transparent&&(i.wx_navbar_transparent=!0),!r.wx_statusbar_hidden&&(i.wx_statusbar_hidden=!0),o=x(o,i)}if(t.indexOf(M.DETAIL)>-1){var a=n.productId?n.productId:P(o),s=l()({},n,{productId:a});return["gps-id","pvid","scm","scm-url","scm_id"].forEach((function(e){r[e]&&(s[e]=r[e])})),t=x(M.DETAIL,s)}if(t.indexOf(M.STORE)>-1){if(N()){var c={url:o};t=x(M.GOTO,c)}else{var p=l()({},n,{sellerAdminSeq:n.sellerId||r.sellerId||"",shopId:n.shopId||r.sellerId||""});t=x(M.STORE,p)}return t}return t.indexOf(M.GOTO)>-1?n.url?t:t=x(t,l()({},n,{url:o})):t}function B(e){try{var t=l()({st_page_id:window.dmtrack_pageid||""},e.params),n=b(t);R&&console.log("埋点：","path:"+e.path+", event:"+e.event+", 参数：",t),window.goldlog.record(e.path,e.event,n,"GET")}catch(e){}}function F(e,t){void 0===e&&(e="click"),void 0===t&&(t={}),"exposure"===e?function(e){B({path:"/ae.pc_ctr.statweb_ae_ctr",event:"EXP",params:e})}(t):"click"===e&&function(e){B({path:"/ae.pc_click.statweb_ae_click",event:"CLK",params:e})}(t)}var G=f.version,J=window.location.host,z=function(){function e(){var e=this;this.execCallApp=function(t){void 0===t&&(t={}),e.init(t);var n=e.options;e.exposurePoint();setTimeout((function(){e.autoRedirectStart=+new Date,window.location.href=n.callAppUrl}),0);var o=N()?3500:3e3;e.redirectTimer=setTimeout((function(){e.autoRedirectEnd=+new Date;var t=l()({cost_t:e.autoRedirectEnd-e.autoRedirectStart,has_app:!1,redirectUrl:encodeURIComponent(n.redirectUrl),callAppUrl:encodeURIComponent(n.callAppUrl)},e.getCommonPointParams());n.sendPoint&&F("click",t),_(n.callAppCallback)&&n.callAppCallback(!1,t,n),n.needRedirect&&(window.location.href=n.redirectUrl),e.clearRedirectField()}),o),e.hasRedirectTimer=!0},this.bindEvent(),this.hasExposure=!1}var t=e.prototype;return t.init=function(e){void 0===e&&(e={}),this.version=G,this.hasBindEvent=!1,this.redirectTimer=null,this.hasRedirectTimer=!1,this.isAutoCallRedirect=!1,this.autoRedirectStart=null,this.autoRedirectEnd=null;var t=Object.assign({pageCode:T(),callAppUrl:"aliexpress://home",targetUrl:"",needRedirect:!0,callAppCallback:null,isAutoCall:!1,sendPoint:!0,spm:[k(),"smartbanner","0"].join("."),pageId:window.dmtrack_pageid||"",timeout:3e3,activityId:"","spm-url":y("spm"),cookieInfo:{},extParams:{}},e);t.cookieInfo=t.cookieInfo||{},t.extParams=t.extParams||{},t.redirectUrl=E(t.targetUrl||D(),t)||"",t.callAppUrl=C(t.callAppUrl,t)||"",this.options=t},t.getCommonPointParams=function(){var e=this.options,t=void 0===e?{}:e;return l()({host:J,fromPageCode:t.pageCode||"",m_page_id:t.pageId||"","spm-url":t["spm-url"]||"","spm-cnt":t.spm||"",abId:t.abId||"",bktId:t.bktId||"",version:this.version,isAutoCall:t.isAutoCall||"",activityId:t.activityId||"",needRedirect:t.needRedirect},t.cookieInfo)},t.exposurePoint=function(){if(!this.hasExposure){this.hasExposure=!0;var e=this.options;F("exposure",l()({exp_page_area:"smartbanner_core",exp_type:"in_download_bar_core",exp_page:e.pageCode||""},this.getCommonPointParams()))}},t.bindEvent=function(){var e=this;this.hasBindEvent||(this.hasBindEvent=!0,document.addEventListener("visibilitychange",(function(){if(document.hidden&&e.redirectTimer&&e.hasRedirectTimer){var t=e.options;e.autoRedirectEnd=+new Date;var n=l()({cost_t:e.autoRedirectEnd-e.autoRedirectStart,has_app:!0,redirectUrl:encodeURIComponent(t.redirectUrl),callAppUrl:encodeURIComponent(t.callAppUrl)},e.getCommonPointParams());t.sendPoint&&F("click",n),_(t.callAppCallback)&&t.callAppCallback(!0,n),e.clearRedirectTimer(),e.clearRedirectField()}})))},t.clearRedirectField=function(){this.autoRedirectStart=null,this.autoRedirectEnd=null,this.isAutoCallRedirect=!1},t.clearRedirectTimer=function(){this.hasRedirectTimer=!1,window.clearTimeout(this.redirectTimer)},e}();n(508);var H=null;var q=o;n(510);var Y=1,W=function(){function e(e){this.copyId=void 0,this.containerId=void 0,this.isDestory=void 0,this.isInit=void 0,this.isInit=!1,this.init(e)}var t=e.prototype;return t.init=function(e){if(!this.isInit){this.isInit=!0,this.copyId="copy_textarea_"+Y,this.containerId="copy_box_"+Y;var t=this.getCopyBoxHtml(e.text),n=document.getElementsByTagName("body")[0],o=document.createElement("div");o.setAttribute("style","position: relative"),o.setAttribute("id",this.containerId),o.innerHTML=t,n.appendChild(o),this.isDestory=!1,Y+=1}},t.copy=function(e){if(!this.isDestory){var t=document.getElementById(this.copyId);if(t)try{t.focus(),t.select();var n=!1;document.queryCommandSupported("copy")&&(n=document.execCommand("copy",!1,null)),e&&e(n)}catch(t){e&&e(!1)}}},t.destory=function(){if(!this.isDestory){var e=document.getElementById(this.containerId);try{e&&e.remove(),this.isDestory=!0}catch(e){}}},t.getCopyBoxHtml=function(e){void 0===e&&(e="");var t=this.getCopyTextStyle();return['<textarea id="'+this.copyId+'" readOnly style="'+t+'" value="'+e+'" >'+e+"</textarea>"].join("")},t.getCopyTextStyle=function(){return["font-size: 12px;","border: 0;","padding: 0;","margin: 0;","position: absolute;","left: -9999px;","top: "+(window.pageYOffset||document.documentElement.scrollTop)+"px;"].join("")},e}(),$=n(511),K=n(512),Q=function(e,t){var n=$.default.get(e,{domain:(0,K.getFixedDomainUrl)(),path:"/",raw:!0})||"",o=new RegExp("(.*&?"+t+"=)(.*?)(&.*|$)");n.match(o);var r=RegExp.$2;return o.test(n)&&function(e,t){var n={b_localeFormat:/^[a-z]{2}_[A-Z]{2}$/,c_tpFormat:/^[A-Z]{3}$/,regionFormat:/^[A-Z]{2,3}$/,signFormat:/^(y|n)$/,x_as_iFormat:/^([A-Za-z0-9]|(%))+/,acs_rtFormat:/^[A-Za-z0-9]+$/};return!/(&|=)/.test(t)&&(t&&n[e+"Format"]&&n[e+"Format"].test(t))}(t,r)?r:""};window.__getCookie=Q;var X="poplayer-web-container-cachetimes",V=location.href.substring(0,location.href.indexOf("#")<0?location.href.length:location.href.indexOf("#")),Z=V.substr(V.indexOf("?")),ee={};Z&&Z.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),(function(e,t,n,o){return ee[t]=decodeURIComponent(o),""}));var te=n(193),ne=n(199),oe=n(198),re=n(197),ie=n(196),ae=n(514),se=n.n(ae),ce=function(e){return Object.keys(Object.getPrototypeOf(e)).reduce((function(t,n){var o;return Object.assign(t,((o={})[n]=e[n],o))}),Object.assign({},e))};function pe(e){var t,n;void 0===e&&(e="BODY");var o=document.querySelector(e);if(!o)return[];var r=document.createNodeIterator(o,NodeFilter.SHOW_TEXT);for(var i,a,s=null,c=[];s=r.nextNode();)if(s&&s.wholeText.trim().length){var p=(i=s,a=void 0,(a=document.createRange()).selectNode(i),a.getBoundingClientRect());p.top>=0&&p.left>=0&&p.width>0&&p.height>0&&c.push(l()({},ce(p),{type:"text"}))}Array.from(o.getElementsByTagName("img")).forEach((function(e){var t=e.getBoundingClientRect();t.top>=0&&t.left>=0&&t.width>0&&t.height>0&&c.push(l()({},ce(t),{type:"img"}))})),Array.from(o.getElementsByTagName("svg")).forEach((function(e){var t=e.getBoundingClientRect();t.top>=0&&t.left>=0&&t.width>0&&t.height>0&&c.push(l()({},ce(t),{type:"svg"}))})),Array.from(o.getElementsByTagName("canvas")).forEach((function(e){var t=e.getBoundingClientRect();t.top>=0&&t.left>=0&&t.width>0&&t.height>0&&c.push(l()({},ce(t),{type:"canvas"}))}));var d=JSON.stringify({title:e,width:null==o||null===(t=o.getBoundingClientRect())||void 0===t?void 0:t.width,height:null==o||null===(n=o.getBoundingClientRect())||void 0===n?void 0:n.height,pagePortrait:c.map((function(e){var t,n;return l()({},e,{x:e.x-(null==o||null===(t=o.getBoundingClientRect())||void 0===t?void 0:t.left),y:e.y-(null==o||null===(n=o.getBoundingClientRect())||void 0===n?void 0:n.top)})}))});return se.a.compress(d)}n(513);var le=function(e){window.AES_QUEUE&&window.AES_QUEUE.push(e)},de=function(e,t,n){var o,r,i,a;if("function"==typeof(null===(o=window)||void 0===o||null===(r=o._AES)||void 0===r?void 0:r.AESPluginEvent)){var s={};if("string"==typeof t){for(var c={},p=arguments.length,d=new Array(p>3?p-3:0),u=3;u<p;u++)d[u-3]=arguments[u];d.forEach((function(e,t){c["c"+(t+1)]=e})),s=l()({et:t,xpath:n},c)}else s=t;-1==["EXP","CLK","SLD","INPUT","SYS","OTHER"].indexOf(s.et)&&console.warn&&console.warn("'et' should been 'EXP','CLK','SLD','INPUT','SYS', 'OTHER'"),null===(i=window)||void 0===i||null===(a=i._AES)||void 0===a||a.AESPluginEvent(e,s)}},ue=function(e,t){void 0===t&&(t=!1);try{!function(e,t,n){void 0===e&&(e="BODY"),void 0===t&&(t=!1);var o=new te.a,r=new oe.a(e),i=new ne.a(e),a=new re.a(e),s=new ie.a(e);r.apply(o),i.apply(o),a.apply(o),s.apply(o),o.run((function(o){void 0===o&&(o={}),o&&n(l()({},o,{c4:t?pe(e):""}))}))}(e,t,(function(e){var t=e.c1,n=e.c2,o=e.c3,r=e.c4,i=void 0===r?"":r,a=e.c5,s=void 0===a?"":a,c=e.c6;t&&de("FFFFFF","OTHER","",t,n,o,i,s,void 0===c?"":c)})),window.__isInitGEPWhitePageDetect||(window.__isInitGEPWhitePageDetect=!0)}catch(e){console.error(e)}};function fe(e){try{"function"==typeof e&&e()}catch(e){console.error(e)}}window.GEP_READY_LISTENER=window.GEP_READY_LISTENER||[];var me,he,ge,ve=window.GEP_READY_LISTENER||[];if(ve.isProxy||(window.GEP_READY_LISTENER=new Proxy(ve,{set:function(e,t,n,o){return"length"!==t&&fe(n),!0},get:function(e,t,n){return"isProxy"===t||Reflect.get(e,t,n)}})),window.GEP_READY_LISTENER&&window.GEP_READY_LISTENER.length)try{setTimeout((function(){window.GEP_READY_LISTENER.forEach((function(e){fe(e)}))}),0)}catch(e){console.error(e)}setTimeout((function(){window.__isInitGEPWhitePageDetect||ue("BODY",!1)}),0),null!==(me=window)&&void 0!==me&&me.GEP_EVENT_QUEUE&&(null!==(he=window)&&void 0!==he&&null!==(ge=he.GEP_EVENT_QUEUE)&&void 0!==ge&&ge.length&&window.GEP_EVENT_QUEUE.forEach((function(e){void 0===e&&(e={});var t=e,n=t.eventId,o=t.et,r=t.xpath,i=t.args;de.apply(void 0,[n,o,r].concat(void 0===i?[]:i))})),window.GEP_EVENT_QUEUE=null);var ye=n(515),we=n.n(ye);function _e(e,t){we.a.error(new Error(e),{filename:t}),function(e,t,n,o,r){void 0===t&&(t="empty"),void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r="empty");try{var i={};if("string"==typeof e)i={message:e,url:t,lineno:n,colno:o,stack:r};else{var a=e.message,s=e.url,c=void 0===s?"empty":s,p=e.lineno,l=void 0===p?0:p,d=e.colno,u=void 0===d?0:d,f=e.stack;i={message:a,url:c,lineno:l,colno:u,stack:void 0===f?"empty":f}}le({action:"log",arguments:["js_error",i]})}catch(e){console.error(e)}}(new Error(e))}function be(e,t,n,o){if(void 0===n&&(n=""),void 0===o&&(o=""),t)return we.a.api.success(e,n,"200"),void function(e,t,n,o,r){void 0===n&&(n=0),void 0===o&&(o=""),void 0===r&&(r="");var i={};if("string"==typeof e){var a={success:!0,status:200,code:"LOGIC_SUCCESS",trace_id:"",headers:"",rtype:"xhr"};i=l()({},a,{url:e,msg:t,duration:n,params:o,response:r})}else{var s={success:!0,status:200,code:"LOGIC_SUCCESS",trace_id:"",headers:"",rtype:"xhr"};i=l()({},s,e)}le({action:"log",arguments:["api",i]})}({url:e,rtype:"mtop"});try{"object"==typeof o&&(o=JSON.stringify(o))}catch(e){}we.a.api.error(e,n,"ERROR",o),function(e,t,n,o,r){void 0===n&&(n=0),void 0===o&&(o=""),void 0===r&&(r="");var i={};if("string"==typeof e){var a={success:!1,status:200,code:"LOGIC_ERROR",trace_id:"",headers:"",rtype:"xhr"};i=l()({},a,{url:e,msg:t,duration:n,params:o,response:r})}else{var s={success:!1,status:200,code:"LOGIC_ERROR",trace_id:"",headers:"",rtype:"xhr"};i=l()({},s,e)}le({action:"log",arguments:["api",i]})}({url:e,rtype:"mtop",msg:o})}function xe(e,t,n){var o,r,i;"detail"===(null===(o=window)||void 0===o||null===(r=o.g_SPM)||void 0===r||null===(i=r._current_spm)||void 0===i?void 0:i.b)&&"poplayerShow"===e&&we.a.report({t10:Promise.resolve(n)}),de(e,{et:t,xpath:"html/body/div",c1:n})}var Ee=!1;window.lib&&window.lib.mtop||(Ee=!0,n(34));var Ce=function(){var e=a()(u.a.mark((function e(t,n){var o,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),Ee&&((o=window.lib.mtop.config).H5Request=!0,o.prefix=ee.__prefix||"acs",o.subDomain="",o.mainDomain=location.hostname.indexOf("aliexpress")>=0?location.hostname.substr(location.hostname.indexOf("aliexpress")):"aliexpress.com"),r=l()({},t,{v:t.v||"1.0",encode:"1",ecode:1,appKey:24815441,data:t.data}),i=Date.now(),e.abrupt("return",window.lib.mtop.request(r).then((function(e){var n,o;null!=e&&null!==(n=e.data)&&void 0!==n&&n.success?be(t.api,!0,""+(Date.now()-i)):be(t.api,!1,""+(Date.now()-i),null==e||null===(o=e.ret)||void 0===o?void 0:o[0]);return e})).catch((function(e){throw be(t.api,!1,""+(Date.now()-i),""+e),e})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Se=function(e,t){var n,o,r,i;void 0===t&&(t="pc");var a=Q("aep_usuc_f","b_locale"),s=Q("aep_usuc_f","region"),c=a&&(null==a||null===(n=a.split("_"))||void 0===n?void 0:n[0])+"_"+s,p=Q("aep_usuc_f","c_tp"),l=Q("xman_us_f","acs_rt"),d=Q("xman_us_f","x_as_i");return Ce({type:"POST",api:"mtop.aliexpress.usertouch.poplayer.get",v:"2.0",data:{_currency:p,_lang:c="en_CN"===c?"en_US":c,clientType:t,positionSign:e,ext:JSON.stringify({pullTrafficRuleParam:{originalUrl:null===(o=window)||void 0===o||null===(r=o.location)||void 0===r?void 0:r.href,appAffiParameters:decodeURIComponent(d||"")||"",acsRt:l,referUrl:null===(i=document)||void 0===i?void 0:i.referrer}})}})};function Ie(e){throw e}var Te={},ke="";function Ae(e){ke=e;var t=X+"-"+e,n=localStorage.getItem(t)||localStorage.getItem(X)||"";try{n&&(Te=JSON.parse(n)||{})}catch(e){Te={}}}var Re,Oe=function(){return Te},Pe=(Re={reducer:function(e){switch(void 0===e&&(e={}),e.type){case"add":return e.payload;case"reduceTime":return t=e.payload.key,(o=Te[t]).times-o.showTimes>0?l()({},Te,((n={})[t]=l()({},o,{showTimes:o.showTimes+1}),n)):Te;case"addTime":return function(e,t){var n,o=Te[e];return l()({},Te,((n={})[e]=l()({},o,{showTimes:o.showTimes-t}),n))}(e.payload.key,e.payload.times);default:Ie("action should has type property")}var t,n,o},afterProcess:[function(e){Te=e;var t=ke?X+"-"+ke:X;localStorage.setItem(t,JSON.stringify(Te))}]},function(e){var t;void 0===e&&(e={});var n=Re.reducer(e);null==Re||null===(t=Re.afterProcess)||void 0===t||t.forEach((function(e){e(n)}))}),Ue=["https://campaign.aliexpress.com","http://campaign.aliexpress.com","https://pre-wormhole.aliexpress.com","http://pre-wormhole.aliexpress.com"],De=function(){var e="postMessage"in window;function t(e,t,n){var o="";if(arguments.length<2?o="target error - target and name are both required":"object"!=typeof e?o="target error - target itself must be window object":"string"!=typeof t&&(o="target error - target name must be string type"),o)throw new Error(o);this.target=e,this.name=t,this.prefix=n}function n(e,t){this.targets={},this.name=e,this.listenFunc=[],this.prefix=t||"[PROJECT_NAME]",this.initListen()}return t.prototype.send=e?function(e){this.target.postMessage(this.prefix+"|"+this.name+"__Messenger__"+e,"*")}:function(e){var t=window.navigator[this.prefix+this.name];if("function"!=typeof t)throw new Error("target callback function is not defined");t(this.prefix+e,window)},n.prototype.addTarget=function(e,n){var o=new t(e,n,this.prefix);this.targets[n]=o},n.prototype.initListen=function(){var t=this,n=function(e){if((-1!==Ue.indexOf(e.origin)||e.origin===window.location.origin)&&"object"==typeof e&&e.data&&e.data.indexOf&&e.data.indexOf("__Messenger__")>=0)for(var n=(e=e.data).split("__Messenger__"),o=(e=n[1],n[0].split("|")),r=o[0],i=o[1],a=0;a<t.listenFunc.length;a++)r+i===t.prefix+t.name&&t.listenFunc[a](e)};e?"addEventListener"in document?window.addEventListener("message",n,!1):"attachEvent"in document&&window.attachEvent("onmessage",n):window.navigator[this.prefix+this.name]=n},n.prototype.listen=function(e){for(var t=0,n=this.listenFunc.length,o=!1;t<n;t++)if(this.listenFunc[t]==e){o=!0;break}o||this.listenFunc.push(e)},n.prototype.clear=function(){this.listenFunc=[]},n.prototype.send=function(e){var t,n=this.targets;for(t in n)n.hasOwnProperty(t)&&n[t].send(e)},n}();function Ne(e,t,n){var o=e.indexOf("?");return o>=0&&(o<e.indexOf("#")||e.indexOf("#")<0)?e.replace(/\?/,"?"+t+"="+encodeURIComponent(n)+"&"):e.indexOf("#")>=0?e.replace("#","?"+t+"="+encodeURIComponent(n)+"#"):e+"?"+t+"="+encodeURIComponent(n)}function je(e){var t=Object.keys(e.params).map((function(t){return t+"="+e.params[t]})).join("&");window.goldlog&&window.goldlog.record(e.path,e.event,"st_page_id=".concat(window.dmtrack_pageid,"&").concat(t),"POST")}function Me(e){try{window.goldlog?e():(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.aplus_pubsub.subscribe",arguments:["goldlogReady",function(){e()}]})}catch(e){}}function Le(e){Me((function(){je({path:"/ae.pc_click.statweb_ae_click",event:"CLK",params:e})}))}function Be(e){Me((function(){je({path:"/ae.pc_ctr.statweb_ae_ctr",event:"EXP",params:e})}))}var Fe=["type"];function Ge(e){return Je.apply(this,arguments)}function Je(){return(Je=a()(u.a.mark((function e(t){var n,o,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=t.type,o=c()(t,Fe),Object.keys(o||{}).reduce((function(e,n){var r=o[n];return t[n]=r,r?e+"&"+n+"="+r:e}),""),r=[""+t.log_key,"click"===n?"CLK":"EXP"],"poplayer","click"===n?t.ae_page_type="poplayer":t.exp_type="poplayer",t.spm_cnt=t.spm_cnt||"a2g0n.poplayer",t.sdkVersion="1.0.24","CLK"===r[1]?Le(t):Be(t)}catch(e){_e("poplayer 打点上报出错:"+e,"src/util/log.ts")}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ze=window.navigator.userAgent;function He(){return!!ze.match(/(phone|pad|pod|iPhone|iPod|iPad|ios|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)}function qe(e){var t=e.positionSign,n=e.uuid,o="autoCollectPopCoupon-"+t,r=localStorage.getItem(o)||"";if(r)try{var i=(r?JSON.parse(r):{})||{},a=(i.positionSign,i.uuid),s=i.timestamp,c=void 0===s?0:s,p=+new Date;a&&(a!==n||p-c>=3e5)&&localStorage.removeItem(o)}catch(e){}}var Ye=n(20),We=n.n(Ye),$e=n(32),Ke=n.n($e);var Qe=function(e,t,n){var o,r,i,a,s=document.createElement("div");document.body.appendChild(s);var c=null==t||null===(o=t.params)||void 0===o?void 0:o.jsComboUrl,p=null===(r=c.match(/@ali\/gmod-(poplayer|pop)(-[a-z]+)+/))||void 0===r?void 0:r[0],l=document.createElement("script");return l.src=c,null===(i=document.getElementsByTagName("head"))||void 0===i||null===(a=i[0])||void 0===a||a.appendChild(l),l.onload=function(){var o,r=document.body.getAttribute("data-spm")||"0";if(null!==(o=window)&&void 0!==o&&o[p]){var i=We.a.createElement(window[p],{popInfo:t,positionSign:e.positionSign,parentSpmB:r,uuid:n});i&&Ke.a.render(i,s)}else _e("poplayer module not found: "+p,"src/page/index/new.ts")},s},Xe=["callAppUrl","targetUrl","pageCode","needRedirect","isAutoCall","spm","pageId"],Ve=(He(),He()?"a2g0n":"a2g0o"),Ze=He()?"msite":"pc",et=Date.now(),tt="postMessage"in window;function nt(e){var t=[];for(var n in e)t.push(l()({},e[n],{uuid:n}));var o={smallImage:!1,other:!1},r=t.sort((function(e,t){return t.priority-e.priority})).filter((function(e){return e.times>e.showTimes}));return r.length?r.filter((function(e){if("smallImage"===e.type){if(!o.smallImage)return o.smallImage=!0,!0}else if(!o.other)return o.other=!0,!0;return!1})).map((function(e){return e.uuid})):[]}function ot(e,t,n){var o=document.createElement("iframe"),r=t.split(/_/)&&t.split(/_/)[2];return r&&(o.src=Ne(Ne(Ne(e,"__poplayer_preserve_uuid",r),"__prefix",ee.__prefix||""),"__poplayer_position_sign",n),o.name=t,o.style.width="100%",o.style.height="100%",o.style.border="none",o.style.display="none",o.style.position="fixed",o.style.zIndex="-100",o.style.left="0",o.style.top="0",o.style.transform="translate3d(0, 0, -100)",document.body.appendChild(o)),o}function rt(e){return"number"==typeof e||/^\d+$/.test(""+e)?e+"px":e}function it(e,t,n,o){return void 0===o&&(o=0),{showTimes:0===t?-1:n||0}}function at(e,t,n,o,r,i,a){void 0===a&&(a=!1);var s=new De(e+"parent",void 0);s.addTarget(t.contentWindow||window,e),s.listen((function(s){var p,d,u,f,m=JSON.parse(s);switch(m.type){case"load":Ge({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:Ve+"."+i+".poplayer.loadsuccess",type:"expose",exp_page:o,positionSign:r,exp_type:"poplayer",houyiTrack:n,isNewModule:a,clientType:Ze,extend:JSON.stringify(null!==(p=null==m?void 0:m.extend)&&void 0!==p?p:{})});break;case"resizeWidthPosition":m.payload&&m.payload.width&&(t.style.width=rt(m.payload.width)),m.payload&&m.payload.height&&(t.style.height=rt(m.payload.height)),m.payload&&m.payload.top&&(t.style.top=rt(m.payload.top)),m.payload&&m.payload.bottom&&(t.style.bottom=rt(m.payload.bottom)),m.payload&&m.payload.left&&(t.style.left=rt(m.payload.left)),m.payload&&m.payload.right&&(t.style.right=rt(m.payload.right));break;case"show":Ge({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:Ve+"."+i+".poplayer.display",type:"expose",positionSign:r,exp_page:o,exp_type:"poplayer",houyiTrack:n,clientType:Ze,isNewModule:a,timeToShow:""+(Date.now()-et),extend:JSON.stringify(null!=m&&m.extend?l()({m_page_id:window.dmtrack_pageid||"","spm-url":ee.spm||""},m.extend):{})}),t.style.display="block",t.style.zIndex="1000000",t.style.transform="translate3d(0, 0, 10000)",Pe({type:"reduceTime",payload:{key:e}}),xe("poplayerShow","EXP",""+(Date.now()-et));break;case"addTime":Pe({type:"addTime",payload:{key:e,times:m.payload}});break;case"link":Ge({log_key:"/ae.pc_click.statweb_ae_click",spm_cnt:Ve+"."+i+".poplayer.jump",type:"click",positionSign:r,exp_page:o,exp_type:"poplayer",houyiTrack:n,clientType:Ze,isNewModule:a,extend:JSON.stringify(null!==(d=null==m?void 0:m.extend)&&void 0!==d?d:{})});var h=m.payload;h=h.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),window.location.href=h;break;case"close":document.body.removeChild(t),Ge({log_key:"/ae.pc_click.statweb_ae_click",spm_cnt:Ve+"."+i+".poplayer.close",type:"click",positionSign:r,exp_page:o,exp_type:"poplayer",houyiTrack:n,clientType:Ze,isNewModule:a,extend:JSON.stringify(null!=m&&m.extend?{m_page_id:window.dmtrack_pageid||"","spm-url":ee.spm||""}:{})});break;case"failed":document.body.removeChild(t),Ge({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:Ve+"."+i+".poplayer.hidden",type:"expose",positionSign:r,exp_page:o,houyiTrack:n,isNewModule:a,exp_type:"poplayer",clientType:Ze,extend:JSON.stringify(null!==(u=null==m?void 0:m.extend)&&void 0!==u?u:{})});break;case"callApp":var g=m.payload,v=g.callAppUrl,y=g.targetUrl,w=(g.pageCode,g.needRedirect),_=g.isAutoCall,b=g.spm,x=void 0===b?Ve+"."+i+".poplayer.callapp":b,E=g.pageId,C=c()(g,Xe);if(v)try{var S=q.fixCallUrlParams(v),I=Q("xman_us_f","acs_rt");if(I){var T=new W({text:["$",I||"","$"].join("")});T.copy((function(){})),setTimeout((function(){T.destory()}),150)}void 0===(f=l()({callAppUrl:S,callAppCallback:function(){},targetUrl:y,pageCode:i,needRedirect:void 0!==w?w:!!y,isAutoCall:_,spm:x,pageId:E||window.dmtrack_pageid||"",extParams:l()({track:n,fromAction:"poplayer"},C)},C))&&(f={}),H||(H=new z),H.execCallApp(f),Ge({log_key:"/ae.pc_click.statweb_ae_click",spm_cnt:Ve+"."+i+".poplayer.callapp",type:"click",positionSign:r,exp_page:o,exp_type:"poplayer",houyiTrack:n,clientType:Ze,isNewModule:a,extend:JSON.stringify(null!=m&&m.extend?l()({m_page_id:window.dmtrack_pageid||"","spm-url":ee.spm||""},m.extend):{})})}catch(t){_e("poplayer "+e+" callAppUrl error: "+t,"src/page/index/index.ts"),console.log(t);try{if(w&&y){var k=q.createRedirectUrl(y,{pageCode:i,isAutoCall:_,spm:x,pageId:E||window.dmtrack_pageid||"","spm-url":ee.spm||""});window.location.href=k}}catch(t){_e("poplayer "+e+" callAppUrl redirect error: "+t,"src/page/index/index.ts"),console.error(t)}}document.body.removeChild(t);break;default:document.body.removeChild(t),_e("poplayer "+e+":never unknown message happen, auto close poplayer","src/page/index/index.ts"),Ie("never unknown message happen, auto close poplayer")}}))}function st(){return(st=a()(u.a.mark((function e(t){var n,o,r,i,a,s,c,p,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ae(t.positionSign),o=document.body.getAttribute("data-spm")||"0",Ge({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:Ve+"."+o+".poplayer.trigger",type:"expose",positionSign:t.positionSign,exp_page:t.positionSign,exp_type:"poplayer",clientType:Ze}),r=Date.now(),e.next=6,Se(t.positionSign,Ze);case 6:i=e.sent,xe("poplayerMtopTiming","OTHER",""+(Date.now()-r)),a=Oe(),s=null==i||null===(n=i.data)||void 0===n?void 0:n.popLayerRuleMap,c=Object.keys(s).reduce((function(e,t){var n;return l()({},e,((n={})[t]=JSON.parse(s[t]),n))}),{}),p=Object.keys(c).reduce((function(e,t){var n,o,r,i=c[t];return l()({},e,((r={})[i.uuid]=l()({times:i.times,type:i.type,priority:i.priority},it(0,i.times,null===(n=a[i.uuid])||void 0===n?void 0:n.showTimes,null===(o=a[i.uuid])||void 0===o?void 0:o.startTime)),r))}),{}),Pe({type:"add",payload:p}),(d=nt(p)).length&&d.forEach((function(e){var n,r,i,a,s,p,l,d,u,f=null===(n=c[e])||void 0===n||null===(r=n.params)||void 0===r?void 0:r.extGcpOutputPageUrl,m=null===(i=c[e])||void 0===i||null===(a=i.params)||void 0===a?void 0:a.jsComboUrl,h=null===(s=c[e])||void 0===s?void 0:s.type,g=null===(p=c[e])||void 0===p||null===(l=p.params)||void 0===l?void 0:l.type;"placeholder"===h&&"emptyContent"===g&&Ge({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:Ve+"."+o+".poplayer.openurl",type:"expose",positionSign:t.positionSign,houyiTrack:null===(d=c[e])||void 0===d||null===(u=d.params)||void 0===u?void 0:u.track,exp_page:f,exp_type:"poplayer",clientType:Ze});if(f&&tt){var v,y,w,_;if(Ge({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:Ve+"."+o+".poplayer.openurl",type:"expose",positionSign:t.positionSign,houyiTrack:null===(v=c[e])||void 0===v||null===(y=v.params)||void 0===y?void 0:y.track,exp_page:f,exp_type:"poplayer",clientType:Ze}),m){var b,x,E=null===(b=c[e])||void 0===b||null===(x=b.params)||void 0===x?void 0:x.track,C=Qe(t,c[e],e);return at(e,C,E,window.location.href,t.positionSign,o,!0),void qe({positionSign:t.positionSign,uuid:e})}var S=f,I=ot(S+=S.indexOf("?")>=0?"&parentSpmB="+o:"?parentSpmB="+o,e,t.positionSign);I.onerror=function(t){_e(e+" poplayer iframe on error","src/page/index/index.ts")},at(e,I,null===(w=c[e])||void 0===w||null===(_=w.params)||void 0===_?void 0:_.track,f,t.positionSign,o)}}));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=function(e){return st.apply(this,arguments)}}}]);